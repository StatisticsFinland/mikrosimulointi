*************************************************************************************************
* SISU-MALLIN MUUTOSLOKI 									*
* AINEISTOVUOSI 2015										*	
*												*	
* Tähän dokumenttiin merkitään SISU-mallin versioon 17.2. 2.5.2017 jälkeen tehdyt muutokset. 	*
* Lokista ilmenee muutospäivämäärä, päivittäjän nimi, yleiskuvaus muutoksesta ja         	*
* tiedostot, joihin muutoksia on tehty.                                                         *
*												*
*************************************************************************************************

*************************************************************************************************
**************************   UUSI MALLIVERSIO 18.3 JAETTU 13.4.2018            ******************
*************************************************************************************************

99. Päivitetty ajantasaistuksen tiedostot ja parametritaulukoiden indeksisidonnaiset parametrit
	VM:n kevään 2018 ennusteen mukaisiksi.

Päivittäjä: SL
pv. 12.4.2018

98. Muutettu inflaatiokorjauksen tekeviä makroja siten, että kuluttajahintaindeksiin perustuva
	korjaus tehdään myös silloin kun INF = 999. Näin käyttäjä voi käyttää samaa omaa
	ohjauskoodiaan uusille ja vanhoille malliversioille (joissa KHI-korjaus määriteltiin
	asetuksella INF = 999).

Päivittäjä: SL
pv. 6.4.2018

	../MAKROT/YLEISET/InfMakrot.sas

	Muokattu makroja InfKerroin ja InfKerroin_ESIM niin, että KHI-korjaus tehdään myös
	silloin kun syötetty arvo on 999.


*************************************************************************************************
**************************   UUSI MALLIVERSIO 18.2 JAETTU 12.3.2018            ******************
*************************************************************************************************

97. Nopeutettu KOKOsimul-koodia optimoimalla osamallien tulosdatojen yhdistäminen KOKO-mallin
	starttidataan.

Päivittäjä: SL
pv. 7.3.2018

	../SIMUL_2015/KOKOsimul.sas

	Muutettu KOKO-mallin tulosdatan muodostamista siten, että osamallien tulosdatat
	yhdistetään KOKO-mallin starttidataan yhdessä DATA-askeleessa. Aiemmin yhdistelyt
	tehtiin yksi kerrallaan heti sen jälkeen kun kyseinen osamalli ajettiin.

96. Lisätty VEROesim-koodiin puolison muuttujien oikea formatointi.

Päivittäjä: SL
pv. 7.3.2018

	../ESIM/VEROesim.sas

	Esimerkkilaskennan lopussa annetaan kokonaislukuformaatti niille muuttujille, joissa ei
	haluta käyttää desimaalierotinta. Lisätty tähän kohtaan myös puolison tällaiset
	muuttujat siinä tapauksessa, että puoliso on (eli &MAKSIMI_VERO_PUOLISO = 1).

95. Karsittu KOKOsimul-koodissa osamallien tulosdatoista yhdistettäviä muuttujia.

Päivittäjä: SL
pv. 7.3.2018

	../SIMUL_2015/KOKOsimul.sas

	Nopeutettu simulointikoodia pitämällä osamallien tulostiedostoista vain olennaiset
	muuttujat. Erityisesti VERO-osamallin tulosdatasta pidetään vain lopulliset
	veroerät ja veronluonteisten maksujen erät, eikä kaikkia välivaihemuuttujia.

94. Lisätty työntekijän eläkevakuutusmaksulle, korotetulle eläkevakuutusmaksulle,
	työttömyysvakuutusmaksulle ja sairausvakuutuksen päivärahamaksulle ikärajaparametrit
	ja huomioitu ikärajat simuloinnissa sekä esimerkkilaskelmissa.

Päivittäjä: SL
pv. 5.3.2018

	../PARAM/pvero.sas7bdat

	Lisätty 8 uutta parametria:
	- Työntekijän eläkevakuutusmaksun ikärajat (ElVakAlaIkaRaja ja ElVakYlaIkaRaja)
	- Työntekijän korotetun eläkevakuutusmaksun ikärajat (KorElVakAlaIkaRaja ja
	KorElVakYlaIkaRaja)
	- Työntekijän työttömyysvakuutusmaksun ikärajat (TyotVakAlaIkaRaja ja TyotVakYlaIkaRaja)
	- Sairausvakuutuksen päivärahamaksun ikärajat (SvPrAlaIkaRaja ja SvPrYlaIkaRaja)
	Lisäksi muutettu parametrin ElVakMaksu53 nimeksi KorElVakMaksu.

	../PARAM/kaikki_param.sas7bdat

	Muutettu parametrin ElVakMaks53 nimeksi KorElVakMaks

	../PARAM/PARAMindeksit.sas

	Huomioitu korotetun eläkevakuutusmaksun parametrin nimen muutokset.

	../MAKROT/VEROlakimakrot.sas

	Lisätty lakimakroihin TyoelMaksuS, TyotMaksuS, SvPRahaMaksuS ja SvPRahaMaksuYS
	ikäparametri sekä huomioitu iän vaikutus maksuvelvollisuuteen laskennan logiikassa.
	Lisäksi lisätty inflaatiokerroinparametri sekä inflaatiokorjaus lakimakroihin
	SvPRahaMaksuS ja SvPRahaMaksuYS euromääräisen alarajan inflaatiokorjauksen
	huomioimikseksi.

	Muokattu edellä mainittujen makrojen kutsuja makroissa TuloVerot_SimpleS,
	TuloVerot_Simple_Palkka_OsinkoS, TuloVerot_Simple_PRahTyoS, ValtVerRajaS ja KunnVerRajaS
	uuden logiikan huomioivaan muotoon.

	../ESIM/VEROesim.sas

	Vaihdettu sekä viitehenkilölle että puolisolle parametri, johon syötettiin tieto siitä,
	onko henkilö yli 53-vuotias, parametriin, johon syötetään henkilön ikä. Muokattu
	tässä päivityksessä muutettujen lakimakrojen kutsut uuteen muotoon sekä laskettu
	työeläke- ja työttömyysvakuutusmaksut omiin sarakkeisiinsa.

	../ESIM/KOKOesim.sas

	Muokattu tässä päivityksessä muutettujen lakimakrojen kutsut uuteen muotoon.

	../SIMUL_2015/VEROsimul.sas

	Muutettu työntekijän eläkevakuutusmaksun, työttömyysvakuutusmaksun ja sairausvakuutuksen
	päivärahamaksun simulointia siten, että jokaisessa tapauksessa lasketaan vuositason
	maksu ensin olettaen, että henkilön ikä on ikävu - 1 ja sitten olettaen, että henkilön
	ikä on ikavu. Saatuja tuloksia painotetaan ikakk-muuttujan avulla niillä kuukausilla,
	joina henkilö on vuoden aikana ollut ikavu-iän ala- ja yläpuolella. Näin saadaan oikea
	tulos myös niiden henkilöiden tapauksessa, jotka ovat ylittäneet jonkin ikärajan vuoden
	aikana.

	Poistettu apumuuttuja KUUK53 tarpeettomana.

93. Muokattu KOTIHTUKI-osamallin oletustulosmuuttujia.

Päivittäjä: SL
pv. 2.3.2018

	../SIMUL_2015/KOTIHTUKIsimul.sas

	Lisätty osamallin oletustulosmuuttujiin lasten kotihoidontuen hoitoraha ja hoitolisä
	eriteltyinä (muuttujat kthr, HOITORAHA, kthl ja HOITOLISA). Korjattu
	nollatietojen merkitsemistä puuttuviksi siten, että operaatio tehdään myös
	muuttujille kthr ja kthl. Selkeytetty tulosmuuttujien selitteitä.

92. Tehostettu starttidatojen muodostamista osamalleissa.

Päivittäjä: SL
pv. 26.2.2018

	../SIMUL_2015/ASUMTUKIsimul.sas
	../SIMUL_2015/ELASUMTUKIsimul.sas
	../SIMUL_2015/PHOITOsimul.sas
	../SIMUL_2015/TAMAKSUsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas

	Tehostettu osamallien starttidatojen muodostamista pitämällä pohja-aineistosta vain
	tarpeelliset muuttujat.

91. Muutettu järjestystä KOKOesim-koodissa.

Päivittäjä: SSH
pv. 22.2.2018

	../ESIM/KOKOesim.sas

	Muutettu KOKOesim-koodissa järjetystä niin, että tulostettavien muuttujien valinta
	tehdään puolison puuttumistapauksien muuttujapudotuksen jälkeen. Järjestyksen vaihdon
	jälkeen lokiin ei enää synny virheilmoitusta, mikäli valittuihin muuttujiin ei oteta
	yhtään puolison muuttujaa.

90. Yksinkertaistettu aineistosimuloinnin ehtoja, joiden perusteella päätellään onko
	VERO-osamalli ajettu.

Päivittäjä: SL
pv. 16.2.2018

	../SIMUL_2015/ASUMTUKIsimul.sas
	../SIMUL_2015/ELASUMTUKIsimul.sas
	../SIMUL_2015/PHOITOsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas

	Aineistosimulointikoodeissa on aiemmin tarkasteltu onko VERO-malli ajettu ehdolla
	IF &SAIRVAK = 1 OR &TTURVA = 1 OR &KANSEL = 1 OR &KOTIHTUKI = 1 OR  &OPINTUKI = 1
	OR &VERO = 1. Ehdoksi riittää IF &VERO = 1, joten mainitut pitkät ehdot on
	korvattu tällä lyhemmällä.

89. Yksinkertaistettu kotitalouskohtaisten etuuksien vientiä talouden viitehenkilölle LLISA-,
	ASUMTUKI- ja TOIMTUKI-malleissa.

Päivittäjä: SL
pv. 16.2.2018

	../SIMUL_2015/ASUMTUKIsimul.sas
	../SIMUL_2015/LLISAsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas

	Näissä koodeissa yhdistettiin aiemmin samansuuruinen etuus kaikille kotitalouden/
	asuntokunnan jäsenille ja nollattiin se sitten kaikilta muilta kuin viitehenkilöltä.
	Yhdistelyä on muutettu niin, että etuudet viedään suoraan vain viitehenkilölle
	(asko = 1). Lisäksi kyseisen yhdistelyn tekevässä PROC SQL -proseduurissa on vaihdettu
	LEFT JOIN -määrittely INNER JOINiksi, jotta TEMP-kirjastoon tuotettavassa osamallin
	tulostaulussa ovat mukana vain ne henkilöt, joille on simuloitu etuutta.

	Pidetty samassa yhteydessä TOIMTUKI-osamallissa datan vertailutiedon nimenä
	htoimtuk sen sijaan, että se nimettäisiin uudelleen nimellä TOIMTUKIREK.

88. Poistettu osamallien ja KOKO-mallin aineistosimulointikoodeista TeeKirjastot-makron kutsu.

Päivittäjä: SL
pv. 16.2.2018

	../SIMUL_2015/ASUMTUKIsimul.sas
	../SIMUL_2015/ELASUMTUKIsimul.sas
	../SIMUL_2015/KANSELsimul.sas
	../SIMUL_2015/KIVEROsimul.sas
	../SIMUL_2015/KOKOsimul.sas
	../SIMUL_2015/KOTIHTUKIsimul.sas
	../SIMUL_2015/LLISAsimul.sas
	../SIMUL_2015/OPINTUKIsimul.sas
	../SIMUL_2015/PHOITOsimul.sas
	../SIMUL_2015/SAIRVAKsimul.sas
	../SIMUL_2015/TAMAKSUsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas
	../SIMUL_2015/TTURVAsimul.sas
	../SIMUL_2015/VEROsimul.sas
	../SIMUL_2015/VVEROsimul.sas

	Koska edellisessä päivityksessä poistettiin mahdollinen OUTPUT-kirjaston väliaikainen
	määrittely muistissa sijaitsevaksi kirjastoksi, ei ole enää tarvetta varmuuden vuoksi
	määritellä kirjastoviitteitä uudelleen simulointikoodeissa. Niinpä osamallien
	aineistosimulointikoodeista on poistettu TeeKirjastot-makron kutsu.

87. Nopeutettu KOKOsimul-koodin kautta ajettavaa simulointia siten, että osamallien
	aineistosimulointikoodeissa jätetään lopullisen OUTPUT-kansioon tehtävän tulostaulukon
	luominen tekemättä silloin kun simulointia ajetaan KOKOsimul-koodin kautta.

Päivittäjä: SL
pv. 16.2.2018

	../SIMUL_2015/ASUMTUKIsimul.sas
	../SIMUL_2015/ELASUMTUKIsimul.sas
	../SIMUL_2015/KANSELsimul.sas
	../SIMUL_2015/KIVEROsimul.sas
	../SIMUL_2015/KOTIHTUKIsimul.sas
	../SIMUL_2015/LLISAsimul.sas
	../SIMUL_2015/OPINTUKIsimul.sas
	../SIMUL_2015/PHOITOsimul.sas
	../SIMUL_2015/SAIRVAKsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas
	../SIMUL_2015/TTURVAsimul.sas
	../SIMUL_2015/VEROsimul.sas

	Siirretty simuloitujen muuttujien osalta vaihe, jossa 0-arvot merkitään tyhjiksi ja
	muuttujille annetaan selitteet, ennen simuloinnin viimeistä vaihetta, jossa simuloidut
	tiedot yhdistetään pohja-aineiston tietoihin. Näin TEMP-kansioon tuotettavassa
	osamallin tulostaulussa on kaikki KOKOsimul-koodissa tarvittavat muuttujat oikeassa
	muodossa.

	Lisätty osamallien simuloinnin viimeiseen vaiheeseen, jossa simuloidut tiedot yhdistetään
	pohja-aineiston tietoihin (ja luodaan OUTPUT-kansioon tulostaulu), ehto, jonka
	seurauksena sitä ei ajeta silloin kun simulointi toteutetaan KOKOsimul-koodin kautta
	(eli kun START = 1).

	Koska joissain osamalleissa haetaan vasta lopuksi datan vertailutieto
	pohja-aineistosta, täytyy niissä tehdä erikseen 0-arvojen merkitseminen tyhjiksi
	ja selitteiden määrittely datan muuttujien osalta sen jälkeen kun yhdistely on
	suoritettu.

	Lisäksi määritelty osamalleissa TULOKSET-makromuuttujan arvoksi suoraan 0 silloin kun
	START = 1 sen sijaan, että määriteltäisiin TULOKSET = &TULOKSET_KOKO.

	../SIMUL_2015/KOKOsimul.sas

	Muutettu osamallien tulosmuuttujien hakua siten, että ne haetaan TEMP-kansioon
	luoduista osamallien tulostauluista OUTPUT-kansioon tuotettavien tulostaulujen sijaan.

	Koska osamallien tulostauluja ei enää tuoteta OUTPUT-kansioon silloin kun simulointia
	ajetaan KOKOsimul-koodin kautta, on seuraavat koodipätkät poistettu tarpeettomina:

	- TULOSNIMI_SV_OUT-muotoisten makromuuttujien arvojen määrittely
	- OUTPUT-kirjaston määrittely väliaikaisesti muistissa sijaitsevaksi silloin kun
	  MUISTISSA = 1
	- Osamallien tulostaulujen poistaminen OUTPUT-kansiosta

	Lisäksi poistettu TULOKSET_KOKO-makromuuttujan määrittely.

	../SIMUL_2015/ALKUsimul.sas

	Poistettu TeeGlobaalit-makrosta mallista poistuneita globaaleja makromuuttujia
	(TULOKSET_KOKO ja APUMAK_TIED_SV-muotoiset makromuuttujat).

86. Muutettu ALKUsimul-koodia niin, että kaikki_param-taulukon pysyvat-sarakkeessa olevien
	globaalien makromuuttujien nimien ei tarvitse olla kirjoitettu isoilla kirjaimilla.

Päivittäjä: EA, SL
pv. 13.2.2018

	../SIMUL_2015/ALKUsimul.sas

	Rivi 161: Lisätty UPCASE-funktio alikyselyyn.

85. Lisätty KANSELsimul-koodissa pohjadatasta poimittavien muuttujien joukkoon muuttuja syvu
	(syntymävuosi); liittyy päivitykseen numero 77.

Päivittäjä: EA
pv. 12.2.2018

	../SIMUL_2015/KANSELsimul.sas

84. Poistettu KANSELsimul-koodista muuttujaan sottk liittyvät kohdat tarpeettomana; liittyy
	päivityksiin numero 77 ja 78.

Päivittäjä: EA
pv. 12.2.2018

	../SIMUL_2015/KANSELsimul.sas
	
*************************************************************************************************
**************************   UUSI MALLIVERSIO 18.1 JAETTU 12.2.2018           *******************
*************************************************************************************************

83. Paranneltu äitiysavustuksen käänteisessä päättelyssä käytettävää makroa AitLkm.

Päivittäjä: SL
pv. 9.2.2018

	../MAKROT/LLISAlakimakrot.sas

	Rivi 307: Lisätty makroon AitLkm askel, jossa äitiysavustuksien määräksi päätellään 0
	mikäli syötetty euromäärä on 0.

82. Poistettu VERO-mallista tarpeettomia aineistovuosiehtoja.

Päivittäjä: SL
pv. 7.2.2018

	../SIMUL_2015/VEROsimul.sas

	Poistettu ehtoja, joissa käytettiin AVUOSI-muuttujan arvoa kotitalousvähennyksestä ja
	asuntolainan korkovähennyksestä. Korvattu muuttuja ASKOROT1 datan muuttujalla vkoras,
	jonka arvo annettiin aiemmin muuttujan ASKOROT1 arvoksi.

	../SIMUL_2015/KOKOsimul.sas

	Poistettu muuttuja ASKOROT1 VERO-osamallin tulosdatasta pidettävistä muuttujista.

81. Poistettu käyttöliittymään liittyneitä osia mallista.

Päivittäjä: SL
pv. 6.2.2018

	../SIMUL_2015/ALKUsimul.sas

	Poistettu käyttöliittymään liittyneet makrot MAKE_ROOTPATHS ja WINDOWS_REGISTRY sekä
	poistettu makromuuttujien UI_LEVY, UI_USERPATH ja SAS_USERPATH määrittelyt.
	Muutettu viittaukset SAS-koodeihin sellaisiksi, että niissä ei käytetä
	SAS_USERPATH-makromuuttujaa.

	..OHJAUS/kaikki_param.sas7bdat

	Poistettu tarpeettomat parametrit UI_LEVY, UI_USERPATH ja SAS_USERPATH.

80. Yhtenäistetty yhdeksi yhteiseksi makroksi osamallien KuukSimul-makrot, jotka hakevat
	parametrit silloin kun simuloinnin tyyppi on SIMULX.

Päivittäjä: SL
pv. 6.2.2018

	../MAKROT/YLEISET/ParamMakrot.sas

	Luotu osamalleissa aiemmin määriteltyjen KuukSimul-makrojen pohjalta yksi yhteinen
	KuukSimul-makro.

	../SIMUL_2015/ASUMTUKIsimul.sas
	../SIMUL_2015/ELASUMTUKIsimul.sas
	../SIMUL_2015/KANSELsimul.sas
	../SIMUL_2015/KIVEROsimul.sas
	../SIMUL_2015/KOTIHTUKIsimul.sas
	../SIMUL_2015/LLISAsimul.sas
	../SIMUL_2015/OPINTUKIsimul.sas
	../SIMUL_2015/PHOITOsimul.sas
	../SIMUL_2015/SAIRVAKsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas
	../SIMUL_2015/TTURVAsimul.sas
	../SIMUL_2015/VEROsimul.sas

	Poistettu osamalleista KuukSimul-makron määrittelyt ja muutettu makrokutsut uuden
	makron mukaisiksi.

79. Yksinkertaistettu parametrien hakua aineistosimulointikoodeissa.

Päivittäjä: SL
pv. 6.2.2018

	../SIMUL_2015/ASUMTUKIsimul.sas
	../SIMUL_2015/ELASUMTUKIsimul.sas
	../SIMUL_2015/KANSELsimul.sas
	../SIMUL_2015/KIVEROsimul.sas
	../SIMUL_2015/KOTIHTUKIsimul.sas
	../SIMUL_2015/LLISAsimul.sas
	../SIMUL_2015/OPINTUKIsimul.sas
	../SIMUL_2015/PHOITOsimul.sas
	../SIMUL_2015/SAIRVAKsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas
	../SIMUL_2015/TTURVAsimul.sas
	../SIMUL_2015/VEROsimul.sas

	Poistettu "johdettujen makroparametrien" haku osamallien simulointikoodien alusta.

	../OHJAUS/kaikki_param.sas7bdat
	../MAKROT/YLEISET/ParamMakrot.sas

	Muutettu kaikki_param-taulua niin, että siinä listataan vain sellaiset parametrit,
	jotka löytyvät osamallien parametritauluissa. Parametreille tehtävä muunnos on
	oletuksena joko tyhjä (ei-monetaariset parametrit) tai x (monetaariset parametrit,
	joille tehdään mahdollinen valuuttamuunnos markoista euroiksi sekä mahdollinen
	inflaatiokorjaus). Siistitty makroista HaeLokaalit ja HaeLaskettavatLokaalit
	pois viittaukset muihin muunnoksiin kuin kyseiseen x-muunnokseen.

78. Muutettu KANSEL-mallia niin, että jatkossa otetaan huomioon työkyvyttömyyseläkkeen lepäämään
	jättäminen kansaneläkkeen ja takuueläkkeen aineistosimuloinnissa ja osamallikohtaisessa
	esimerkkilaskelmassa.

Päivittäjä: EA
pv. 6.2.2018

	../OHJAUS/kaikki_param.sas7bdat
	../PARAM/pkansel.sas7bdat

	Lisätty uusi lakiparametri RajaTyotulo, joka kertoo, kuinka paljon
	työvyttömyyseläkkeellä oleva saa ansaita ilman, että eläke on jätettävä lepäämään.

	../PARAM/PARAMindeksit.sas

	Rivi 333: Uutta parametria RajaTyotulo tarkistetaan kansaneläkeindeksin muutosta
	vastaavasti.

	../MAKROT/KANSELlakimakrot.sas

	Lisätty makroihin Kansanelake_SimpleKS, Kansanelake_SimpleVS, TakuuElakeKS ja
	TakuuElakeVS mahdollisuus ottaa huomioon työkyvyttömyyseläkkeen lepäämään jättäminen 
	keyword-makroparametrien "ontyokyvyte" ja "tyotulo" kautta.

	../SIMUL_2015/KANSELsimul.sas

	Luodaan uudet apumuuttujat ONTYOKYVYTE (Onko kyseessä työkyvyttömyyseläke (0/1), DATA)
	ja TYOTULO (Työtulo (e/v), DATA) ja otetaan näiden kautta huomioon
	työkyvyttömyyseläkkeen lepäämään jättäminen.

	../ESIM/KANSELesim.sas

	Muuttujien KANSEL_TOIMINTA ja KANSEL_TYOTULO kautta otetaan huomioon
	työkyvyttömyyseläkkeen lepäämään jättäminen.

77. Tarkennettu kansaneläkkeeseen ja takuueläkkeeseen oikeutettujen rajauksia KANSEL-mallin
	aineistosimuloinnissa.

Päivittäjä: EA
pv. 6.2.2018
	
	../SIMUL_2015/KANSELsimul.sas

	Rivi 281-320: Kansaneläkkeeseen oikeutettujen tarkempi rajaus.
	Rivi 442-489: Takuueläkkeeseen oikeutettujen tarkempi rajaus.

76. Nollattu eläkkeensaajan asumistuesta vuodesta 2015 lukien lapsikorotusparametrit.

Päivittäjä: SSH
pv. 5.2.2018

	../PARAM/pelasumtuki.sas7dat

	Nollattu LapsiKor1 ja LapsiKor2 parametrit vuodesta 2015 lukien, sillä lapsikorotuksia
	ei tuosta vuodesta lähtien ole ollut käytössä.

75. Korjattu vanhempainpäivärahojen laskentaa SAIRVAK-mallissa.

Päivittäjä: SL
pv. 5.2.2018

	../SIMUL_2015/SAIRVAKsimul.sas

	Poistettu simulointikoodista pätkä, jossa laskettiin muuttujat VANHPR1 ja
	VANHPR_TYONANT1 uudelleen korotuksen sisältävien vanhempainpäivärahojen laskennan
	jälkeen ja jäsennelty koodia helpommin ymmärrettävään muotoon.

	Lisäksi selkeytetty korotuksen sisältävien vanhempainpäivärahojen laskentaa
	sisällyttämällä kaikkien eri korotustasojen päivien simuloinnit saman ehtolauseen
	sisään. Muutettu vanhempainpäivärahan minimipäivärahan laskenta sekä
	erityishoitorahan laskenta käyttämään vanhempainpäivärahan lakimakroa sairauspäivärahan
	lakimakron sijaan.

	../MAKROT/SAIRVAKlakimakrot.sas

	Lisätty makroihin SairVakPrahaKS ja VanhPRahaKS työtulon laskentaan varmistus, jonka
	avulla varmistetaan, että työtulomuuttujan arvo ei ikinä tule pääteltyä negatiiviseksi.
	Lisäksi muutettu VanhPRahaKS-makrossa temp-muuttujan päättelyä silloin kun lasketaan
	normaaleja vanhempainpäivärahoja siten, että temp-muuttujalle asetetaan arvo 0 silloin
	kun mikään tuloraja ei ylity.

74. Selkeytetty hoitolisää varten tehtävää perheen koon päättelyä.

Päivittäjä: SL
pv. 29.1.2018

	../SIMUL_2015/KOTIHTUKIsimul.sas

	Rivi 184: Selkeytetty OSAKOKO1-muuttujan päättelyä

73. Tehty elatustuen parametriin korjaus vuoden 1999 osalta

Päivittäjä: SSH
pv. 25.1.2018

	../PARAM/pllisa.sas7dat
	
	Parametrin arvo muutettu oikeaksi tammikuun 1999 riville.

72. Päivitetty yleisten makrojen kuvauksia mallin dokumentaation ylläpidon helpottamiseksi.

Päivittäjä: SL
pv. 24.1.2018

	../MAKROT/YLEISET/InfMakrot.sas
	../MAKROT/YLEISET/ParamMakrot.sas
	../MAKROT/YLEISET/PyoristysMakrot.sas
	../MAKROT/YLEISET/TulosMakrot.sas
	../MAKROT/YLEISET/VertailuMakrot.sas
	../MAKROT/YLEISET/YleisMakrot.sas

	Lisätty kaikille makroille kuvaukset ja laitettu kuvauksen alkuun dokumentaation
	ylläpidon helpottamiseksi sen koodin nimi, jossa makro sijaitsee.

71. Korjattu VVERO-mallin parametritaulua pvvero_tuotteet ja siistitty VVERO-mallin
	tulostaulukointia silloin kun aineistona on alkuperäinen kulutustutkimuksen aineisto.

Päivittäjä: SL
pv. 22.1.2018

	../PARAM/pvvero_tuotteet.sas7bdat

	Lisätty taulukkoon puuttuneet rivit luokille A09424 ja 0943.

	../SIMUL_2015/VVEROsimul.sas

	Rivit 169 ja 170: Muutettu AIKASA-aineiston tapauksessa annettavia täytearvoja
	olemaan ikavu = 18 ja soss = ., jotta tulostaulukkoon ei virheellisesti tulostu
	lapsiköyhyysasteita (niin kuin kävi silloin kun määritettiin täytearvoksi ikavu = 0).

	../MAKROT/YLEISET/TulosMakrot.sas

	Rivit 351 ja 352: Muutettu KoyhInd-makroa niin, että työllisten ja eityöllisten
	päättelyssä katsotaan onko muuttuja soss tietyllä välillä eikä vain onko se pienempi
	tai suurempi kuin vertailuluku.

70. Paranneltu VANHRAHAesim-ohjelmaa.

Päivittäjä: SL
pv. 19.1.2018

	../ESIM/VANHRAHAesim.sas

	Lisätty muiden esimerkkilaskelmien tapaan optio VUOSIKA, jolla voidaan määritellä
	käytetäänkö yhden kuukauden lainsäädäntöä vaiko vuosikeskiarvoa. Muutettu ohjaavan
	makromuuttujan VANHRAHA_KESKIARVO nimeksi kuvaavampi VRAHA_LASKE_VUOSITULOT ja
	parannettu kyseisen option dokumentaatiota mallikoodin kommenteissa. Muutettu
	päivärahojen laskentaa niin että siinä huomioidaan aina inflaatiokorjaus, eikä vain
	silloin kun käytetään vuositulolaskentaa. Rajattu muuttujien tulostusta niin ettei
	vuositulolaskentaan liittyviä tulosmuuttujia tulosteta silloin kun vuositulolaskentaa
	ei käytetä.

	../SIMUL_2015/ALKUsimul.sas

	Päivitetty VANHRAHAesim-vuositulolaskentaa ohjaavan makromuuttujan nimi
	TeeGlobaalit-makrossa.

69. Muutettu KOKOsimul-ohjelmaa niin, että osamallien simulointitiedostojen nimet syötetään
	yhtenäisyyden vuoksi ilman tiedostopäätettä.

Päivittäjä: SL
pv. 19.1.2018

	../SIMUL_2015/KOKOsimul.sas

	Simulointitiedostojen nimet syötetään ilman tiedostopäätettä samalla tavalla kuin
	lakimakrotiedostojen nimet.

68. Korjattu KOKOesim-ohjelmaa niin, että kotitaloustasolla laskettavassa alijäämähyvityksessä
	huomioidaan puolisoiden korotettu alijäämähyvityksen yläraja.

Päivittäjä: SL
pv. 19.1.2018

	../MAKROT/VEROlakimakrot.sas

	Lisätty uusi lakimakro AlijHyvKotitS, joka laskee alijäämähyvityksen kotitaloustasolla
	niin, että kun kotitaloudessa on kaksi aikuista, oletetaan että puolisolta siirtyy
	potentiaalista alijäämähyvitystä maksimimäärä ja lasketaan sitten henkilötasolla.
	Silloin kun puolisoa ei ole, makro tuottaa saman tuloksen kuin AlijHyvS-makro.

	../ESIM/KOKOesim.sas

	Muutettu alijäämähyvityksen laskentaa niin että se lasketaan uudella kotitaloustason
	makrolla.

67. Lisätty SAIRVAK-malliin makro, joka laskee erisuuruiset vanhempainpäivärahat päivää kohti
	vuosikeskiarvona.

Päivittäjä: SL
pv. 19.1.2018

	../MAKROT/SAIRVAKlakimakrot.sas

	Lisätty makro VanhPRahaVS, joka laskee vuosikeskiarvon VanhPRahaKS-makron tuloksista.
	Muutettu EtsiVahimm-makroa niin, että siinä käytetään uutta vuosikeskiarvon laskevaa
	makroa kuukausitason sijaan.

	../SIMUL_2015/SAIRVAKsimul.sas

	Muutettu vanhempainpäivärahojen laskentaa niin, että siinä käytetään uutta
	vuosikeskiarvon laskevaa makroa kuukausitason sijaan.

66. Poistettu mallista KAYTLIIT- ja SIMUL_2014-kansiot.

Päivittäjä: SL
pv. 17.1.2018

65. Poistettu mallista makrojen tallentaminen makrokatalogiin.

Päivittäjä: SL
pv. 16.1.2018

	../SIMUL_2015/ALKUsimul.sas

	Poistettu rivit joilla määritellään makrojen tallennuspaikaksi makrokatalogi. Siirretty
	MAKROT-kirjastoviitteen määrittely TeeKirjastot-makron sisään.

	../MAKROT/..

	Poistettu kaikista makromäärittelyistä STORE-optio niin että niitä ei yritetä tallentaa
	ulkoiseen sijaintiin.

64. Muutettu inflaatiokorjausta niin, että käyttäjä voi määritellä automaattisessa
	inflaatiokorjauksessa käytettäväksi indeksiksi kuluttajahintaindeksin tai
	ansiotasoindeksin.

Päivittäjä: SL
pv. 16.1.2018

	../MAKROT/INDEKSImakro.sas

	Muokattu indeksiin perustuvan inflaatiokertoimen laskevia makroja niin, että
	niihin voidaan syöttää käytettäväksi indeksiksi KHI tai ATI. Siirretty makrot
	uuteen sijaintiin: /MAKROT/YLEISET/InfMakrot.sas

	../SIMUL_2015/ALKUsimul.sas
	../SIMUL_2015/ASUMTUKIsimul.sas
	../SIMUL_2015/ELASUMTUKIsimul.sas
	../SIMUL_2015/KANSELsimul.sas
	../SIMUL_2015/KIVEROsimul.sas
	../SIMUL_2015/KOKOsimul.sas
	../SIMUL_2015/KOTIHTUKIsimul.sas
	../SIMUL_2015/LLISAsimul.sas
	../SIMUL_2015/OPINTUKIsimul.sas
	../SIMUL_2015/PHOITOsimul.sas
	../SIMUL_2015/SAIRVAKsimul.sas
	../SIMUL_2015/TAMAKSUsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas
	../SIMUL_2015/TTURVAsimul.sas
	../SIMUL_2015/VEROsimul.sas
	../SIMUL_2015/VVEROsimul.sas
	../ESIM/ASUMTUKIesim.sas
	../ESIM/ELASUMTUKIesim.sas
	../ESIM/KANSELesim.sas
	../ESIM/KIVEROesim.sas
	../ESIM/KOKOesim.sas
	../ESIM/KOTIHTUKIesim.sas
	../ESIM/LLISAesim.sas
	../ESIM/OPINTUKIesim.sas
	../ESIM/PHOITOesim.sas
	../ESIM/SAIRVAKesim.sas
	../ESIM/TOIMTUKIesim.sas
	../ESIM/TTURVAesim.sas
	../ESIM/VANHRAHAesim.sas
	../ESIM/VEROesim.sas

	Päivitetty aineistosimulointikoodeja ja esimerkkilaskelmia niin, että niissä käytetään
	päivitettyjä inflaatiokerroinmakroja.

63. Uudistettu makrotiedostojen logiikkaa yhdistelemällä makrotiedostoja loogisiksi
	kokonaisuuksiksi.

Päivittäjä: SL
pv. 16.1.2018

	../MAKROT/YLEISET/TulosMakrot.sas

	Nimetty tulosteiden vertailuun käytettävät makrot uudelleen nimellä 
	/MAKROT/YLEISET/VertailuMakrot.sas.

	../MAKROT/KOKOTULOKSETmakro.sas
	../MAKROT/SUMKOTITTmakro.sas
	../MAKROT/DESIILITmakro.sas
	../MAKROT/KOYHINDmakro.sas

	Yhdistetty nämä tulosten tuottamiseen liittyvät makrot tiedostoon
	/MAKROT/YLEISET/TulosMakrot.sas.

	../MAKROT/..apumakrot.sas

	Poistettu kaikki apumakrotiedostot, joista suurin osa oli tyhjiä. Jäljellä olleet
	apumakrot on siirretty parhaiten sopivaan jo olemassa olevaan makrotiedostoon, esim.
	rahamäärien pyöristämiseen liittyvät makrot tiedostoon
	/MAKROT/YLEISET/PyoristysMakrot.sas ja parametrien hakuun liittyvät makrot tiedostoon
	/MAKROT/YLEISET/ParamMakrot.sas. Lakimakron kaltaiset apumakrot on siirretty vastaavien
	osamallien lakimakrotiedostoihin ja eri osamalleissa olleet IkaKuuk-makrot on yhdistetty
	yhteiseksi makroksi, joka löytyy tiedostosta /MAKROT/YLEISET/YleisMakrot.sas.

	../SIMUL_2015/ALKUsimul.sas
	../SIMUL_2015/ASUMTUKIsimul.sas
	../SIMUL_2015/ELASUMTUKIsimul.sas
	../SIMUL_2015/KANSELsimul.sas
	../SIMUL_2015/KIVEROsimul.sas
	../SIMUL_2015/KOKOsimul.sas
	../SIMUL_2015/KOTIHTUKIsimul.sas
	../SIMUL_2015/LLISAsimul.sas
	../SIMUL_2015/OPINTUKIsimul.sas
	../SIMUL_2015/PHOITOsimul.sas
	../SIMUL_2015/SAIRVAKsimul.sas
	../SIMUL_2015/TAMAKSUsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas
	../SIMUL_2015/TTURVAsimul.sas
	../SIMUL_2015/VEROsimul.sas
	../SIMUL_2015/VVEROsimul.sas
	../ESIM/ASUMTUKIesim.sas
	../ESIM/ELASUMTUKIesim.sas
	../ESIM/KANSELesim.sas
	../ESIM/KIVEROesim.sas
	../ESIM/KOKOesim.sas
	../ESIM/KOTIHTUKIesim.sas
	../ESIM/LLISAesim.sas
	../ESIM/OPINTUKIesim.sas
	../ESIM/PHOITOesim.sas
	../ESIM/SAIRVAKesim.sas
	../ESIM/TOIMTUKIesim.sas
	../ESIM/TTURVAesim.sas
	../ESIM/VANHRAHAesim.sas
	../ESIM/VEROesim.sas

	Muokattu aineistosimulointikoodeissa ja esimerkkilaskelmissa makrotiedostojen %INCLUDE-
	kutsuja uuden rakenteen mukaisiksi.

62. Poistettu päivitykseen numero 61 liittyen TaTuJulk-parametri myös kaikki_param-taulusta.

Päivittäjä: SL
pv. 16.1.2018

	../OHJAUS/kaikki_param.sas7bdat

*************************************************************************************************
**************************   UUSI MALLIVERSIO 18.0 JAETTU 12.1.2018           *******************
*************************************************************************************************

61. Poistettu TAMAKSU-mallin parametritaulukosta TaTuJulk-parametri tarpeettomana.

Päivittäjä: EA, SSH
pv. 12.1.2018

	../PARAM/ptamaksu.sas7bdat

60. Lisätty käyttöliittymän Exceliin päivityksessä 48 muutetut asumistukien kuntaryhmätiedot,
	jotta KOKOesim toimii vielä käyttöliittymällä.

Päivittäjä: SL
pv. 12.1.2018

	../KAYTLIIT/EXCEL/koko_esim_pohjat.xlsx

59. Tehty vuoden 2018 lakimuutoksiin liittyvät päivitykset parametritauluihin.

Päivittäjä: EA, SL
pv. 11.1.2018

	../PARAM/pasumtuki.sas7bdat
	../PARAM/pelasumtuki.sas7bdat
	../PARAM/pkansel.sas7bdat
	../PARAM/pkivero.sas7bdat
	../PARAM/pkotihtuki.sas7bdat
	../PARAM/pllisa.sas7bdat
	../PARAM/popintuki.sas7bdat
	../PARAM/psairvak.sas7bdat
	../PARAM/ptamaksu.sas7bdat
	../PARAM/ptoimtuki.sas7bdat
	../PARAM/pvero.sas7bdat

58. Lisätty vuonna 2018 lakiin tullut opintorahan huoltajakorotus osaksi mallia ja samalla
	tarkennettu opintorahan simulointia huoltajatiedolla myös muutoin.

Päivittäjä: EA
pv. 9.1.2018

	../OHJAUS/kaikki_param.sas7bdat
	../PARAM/popintuki.sas7bdat

	Lisätty uusi parametri HuoltKor (Opintorahan huoltajakorotus (e/kk)).

	../MAKROT/OPINTUKIlakimakrot.sas

	Varsinainen huoltajakorotuksen laskenta on rivillä 370. Keyword-makroparametri nimeltään
	'huoltaja' on lisätty makroihin VanhKorotusS, VanhAlennusS, OpRahaKS, OpRahaVS ja 
	OpRahaAsumLisaKS.

	../SIMUL_2015/OPINTUKIsimul.sas

	Rivillä 193 luodaan uusi ONHUOLTAJA-muuttuja perustuen siihen, onko rekisteriaineiston
	cllkm-muuttuja suurempi kuin 0. Tätä muuttujaa käytetään myöhemmin lakimakrokutsuissa.

	Uudet tulosmuuttujat:
	TUKIKESK_ILMHUOLT = Keskiasteen opiskelijan opintoraha ilman huoltajakorotusta, MALLI
	TUKIKOR_ILMHUOLT = Korkeakouluopiskelijan opintoraha ilman huoltajakorotusta, MALLI

	../SIMUL_2015/VEROsimul.sas

	Haetaan OPINTUKI-mallin tulosdatasta uudet muuttujat TUKIKESK_ILMHUOLT ja
	TUKIKOR_ILMHUOLT. Luodaan näitä hyödyntäen uusi tulosmuuttuja:
	OPTUKI_ILMHUOLT_SIMUL = Opintorahat ilman huoltajakorotusta, MALLI.

	../SIMUL_2015/ASUMTUKIsimul.sas

	Haetaan VERO-mallin tulosdatasta uusi muuttuja OPTUKI_ILMHUOLT_SIMUL ja käytetään tätä
	muuttujaa OPINTUKI-muuttujan muodostamisessa.

	../ESIM/OPINTUKIesim.sas

	Rivillä 83 voi syöttää tiedon siitä, onko esimerkkilaskelman henkilö alaikäisen lapsen
	huoltaja.

	../ESIM/KOKOesim.sas

	Rivillä 909 luodaan uusi ONHUOLTAJA&suff-muuttuja, joka saa arvon 1, jos kotitaloudessa
	on vähintään 1 alaikäinen lapsi, ja muutoin arvon 0. Tätä muuttujaa käytetään myöhemmin
	lakimakrokutsuissa.  
	
57. Korjattu OPINTUKI-mallin OpRahaAsumLisaKS-lakimakroa.

Päivittäjä: EA
pv. 5.1.2018

	../MAKROT/OPINTUKIlakimakrot.sas

	Rivi 430, 433: Lisatty keyword-makroparametri 'aloituspvm'. 

56. Päivitetty yleisradioveron laskenta vuoden 2018 lakimuutoksen mukaiseksi.

Päivittäjä: EA
pv. 5.1.2018

	../OHJAUS/kaikki_param.sas7bdat
	../PARAM/pvero.sas7bdat

	Lisätty uusi parametri YleTuloRaja (Yle-veron tuloraja, jonka ylittävistä tuloista
	Yle-vero pitää maksaa (e/kk)).

	../MAKROT/VEROlakimakrot.sas

	Rivi 2675-2704: Muokattu YleVeroS-makroa niin, että veroa maksetaan vain 
	YleTuloRaja-parametrin ylittävistä tuloista.

55. Tehty vuoden 2018 lakimuutoksiin liittyvät päivitykset indeksisidonnaisuuksiin 
	PARAMindeksit.sas-tiedostoon. Vanhat indeksisidonnaisuudet on viety tiedoston loppuun
	kommenteiksi.

Päivittäjä: EA, SL
pv. 5.1.2018

	../PARAM/PARAMindeksit.sas

54. Muokattu PARAMindeksit.sas-tiedostoa.

Päivittäjä: EA, SL
pv. 5.1.2018

	../PARAM/PARAMindeksit.sas

	Poistettu makro ParamRivi (parametritaulun yksittaisen rivin päivittäminen).

	Poistettu makro PaivitaLL (lapsilisätaulun elatustuen päivitys) ja korvattu se uudella
	makrolla PaivitaTaannehtiva1. Tällä makrolla tehdään jatkossa indeksikorotus sekä
	elatustuen että yleisen asumistuen enimmäisasumismenorajojen (parametri Kattovuokra_1_1
	jne.) osalta.

	Korjattu makroa PaivitaPhoito.

53. Päivitetty pindeksi_kuuk- ja pindeksi_vuosi-tauluihin tuoreimmat tiedot.

Päivittäjä: SL
pv. 5.1.2018

	../PARAM/pindeksi_kuuk.sas7bdat
	../PARAM/pindeksi_vuosi.sas7bdat

52. Poistettu pindeksi_vuosi-taulusta tarpeettomat indeksit IndSth2000, IndSth2005 ja
	IndOpt2005 sekä lisätty indeksi IndOpt2010.

Päivittäjä: SL
pv. 5.1.2018
	
	../PARAM/pindeksi_vuosi.sas7bdat

51. Korjattu OPINTUKI-osamallin parametreja ja VanhAlennusS-lakimakroa.

Päivittäjä: EA
pv. 22.12.2017

	../PARAM/popintuki.sas7bdat

	Korjattu parametrien arvoja:
	KorkVanh20_2, ajankohta 8/2017-1/2021: 101,74 -> 81,39
	KorkVanh20b, ajankohta 8/2017-1/2021: 147,52 -> 101,74
	KorkVanhAlle20b, ajankohta 8/2017-1/2021: 76,31 -> 59,01
	KorkMuuAlle20b, ajankohta 8/2017-1/2021: 147,52 -> 101,74
	VanhTuloRaja3, ajankohta 8/2017: 0 -> 60000

	../MAKROT/OPINTUKIlakimakrot.sas

	Rivi 120-178: Korjattu VanhAlennusS-makrossa laskentaa, jossa lasketaan opintorahaan
	vanhempien tulojen perusteella tehtävä alennus. Virheitä oli lainsäädännön 
	voimaantulopäivissä ja eri sääntöjen soveltamisessa vanhempien luona asuviin ja
	itsenäisesti asuviin opiskelijoihin.
 
*************************************************************************************************
**************************   UUSI MALLIVERSIO 17.8 JAETTU 19.12.2017          *******************
*************************************************************************************************

50. Lisätty malliin joulukuun 2017 VM:n ennustekierroksen mukaisen ajantasaistuksen tiedostot
	ja päivitetty indeksisidonnaisten parametrien tulevien vuosien arvoja ennusteen
	mukaisesti.

Päivittäjä: SL
pv. 19.12.2017

49. Muokattu LLISA- ja TTURVA-osamalleja niin, että lakiparametreja ei enää haeta osamallien
	poimintakoodeissa (niitä käytettiin apumuuttujien muodostamiseen poimintakoodissa),
	vaan tarvittavat laskennalliset erät AITAVLUKUM ja VVVPALX3 haetaan aineistosta, jonne
	ne lisättiin uusimman aineistopäivityksen yhteydessä.

Päivittäjä: SL
pv. 18.12.2017

	../SIMUL_2015/LLISAsimul.sas
	../SIMUL_2015/TTURVAsimul.sas

48. Muokattu KOKOesim-ohjelmaa siten, että jatkossa yleisen asumistuen ja eläkkeensaajan
	asumistuen kuntaryhmät ja lämmitysryhmät syötetään eri makromuuttujiin tuen muodon
	mukaan. Lisäksi muutettu yleisen asumistuen maakuntaryhmän kertovan makromuuttujan nimeä.

Päivittäjä: EA
pv. 30.11.2017

	../ESIM/KOKOesim.sas

	Aiempi kuntaryhmän kertova makromuuttuja MINIMI_KOKO_ASKRYHMA on poistettu ja yleisen
	asumistuen kuntaryhmä syötetään jatkossa makromuuttujaan MINIMI_KOKO_YAKRYHMA ja
	eläkkeensaajan asumistuen kuntaryhmä muuttujaan MINIMI_KOKO_EAKRYHMA.

	Aiempi lämmitysryhmän kertova makromuuttuja MINIMI_KOKO_LAMMRYHMA on poistettu ja 
	yleisen asumistuen lämmitysryhmä syötetään jatkossa makromuuttujaan 
	MINIMI_KOKO_YALAMMRYHMA ja eläkkeensaajan asumistuen lämmitysryhmä muuttujaan 
	MINIMI_KOKO_EALAMMRYHMA.

	Muutettu yleisen asumistuen maakuntaryhmän (maakuntien ryhmittely sen perusteella,
	missä maakunnissa asuvat saavat korotuksen hyväksyttäviin lämmitysmenoihin ja
	omistusasunnon hoitonormeihin) kertovan	makromuuttujan nimi:
	MINIMI_KOKO_LKRYHMA -> MINIMI_KOKO_YALISAKRYHMA.  

47. Muokattu ASUMTUKI-mallin simulointikoodia niin, että simulointi toimii myös,
	kun POIMINTA = 0.

Päivittäjä: EA
pv. 30.10.2017

	../SIMUL_2015/ASUMTUKIsimul.sas

	Rivi 442: Lisätty globaalin makromuuttujan AIKMAX määrittelevä koodi, joka ajetaan, jos
	POIMINTA = 0.

46. Poistettu opintotuen apumakrosta TukiKuuk viittaus aiemmin poistettuun makromuuttujaan F.

Päivittäjä: SL
pv. 27.10.2017

	../MAKROT/OPINTUKIapumakrot.sas

	Rivi 77: Muutettu OpRahaV&F -> OpRahaVS.

45. Lisätty päivitykseen 40 liittyen välillisen verotuksen simulointikoodissa starttidataan
	sukupuolimuuttuja, jotta VVERO-malli toimii päivitetyllä tulonjakoindikaattorimakrolla.

Päivittäjä: SL
pv. 19.10.2017

	../SIMUL_2015/VVEROsimul.sas

	Rivit 162 ja 168: Pidetään starttidatassa muuttuja sp tai luodaan se tyhjänä jos
	aineisto ei ole ALV.

44. Poistettu kotihoidontuen osamallista kohta, jossa luotiin WORK-kirjastoon turha
	tarkistustaulu nimellä TEMP2.

Päivittäjä: SL
pv. 16.10.2017

	../SIMUL_2015/KOTIHTUKIsimul.sas

*************************************************************************************************
**************************   UUSI MALLIVERSIO 17.7 JAETTU 16.10.2017          *******************
*************************************************************************************************

43. Korjattu päivitykseen 38 liittyen kuuid-muuttujien luontia lakimakroissa.

Päivittäjä: SL
pv. 16.10.2017

	../MAKROT/YLEISET/YleisMakrot.sas
	../MAKROT/ASUMTUKIlakimakrot.sas
	../MAKROT/KANSELlakimakrot.sas
	../MAKROT/KOTIHTUKIlakimakrot.sas
	../MAKROT/LLISAlakimakrot.sas
	../MAKROT/OPINTUKIlakimakrot.sas
	../MAKROT/SAIRVAKlakimakrot.sas
	../MAKROT/TOIMTUKIlakimakrot.sas
	../MAKROT/TTURVAlakimakrot.sas

	Lakimakroissa ei voida käyttää kuuid-muuttujan luontiin suoraan funktiota
	MDY(&mkuuk, 1, &mvuosi), koska silloin muuttuja muodostetaan väärin kun simuloinnissa
	on valittu tyypiksi SIMULX. Niinpä vanha KuuNro-makro on palautettu YleisMakrot-
	koodiin nimellä LuoKuuID, jotta olisi mahdollisimman selvää, että sillä saa luoda
	vain kuuid-muuttujia.

42. Korjattu lakiparametrien muunnosten luokitteluja TOIMTUKI-mallin osalta.

Päivittäjä: EA
pv. 16.10.2017

	../OHJAUS/kaikki_param.sas7bdat

	VapaaOs-parametrille (sarake TOIMTUKI) ei enää jatkossa tehdä virheellisesti
	inflaatiokorjausta eli muunnoksen luokka (sarake TOIMTUKI_M) on jatkossa tyhjä.

	VapaaOsRaja-parametrille (sarake TOIMTUKI) tehdään jatkossa inflaatiokorjaus eli
	muunnoksen luokka (sarake TOIMTUKI_M) on jatkossa 'x'.
	
*************************************************************************************************
**************************   UUSI MALLIVERSIO 17.6 JAETTU 12.10.2017          *******************
*************************************************************************************************

41. Poistettu verolakimakroista käytöstä poistunut pääomaverolakimakro

Päivittäjä: SSH
pv. 12.10.2017

	../MAKROT/VEROlakimakrot.sas

	Poistettu pääomaverojen laskentaan tarkoitettu POTulonVeroS-lakimakro, jota ei käytetä 
	laskennassa.

40. Päivitetty tulonjakoindikaattorit laskevaa makroa korjauksilla ja lisäyksillä.

Päivittäjä: SL
pv. 9.10.2017

	../MAKROT/KOYHINDmakro.sas
	
	Korjattu desiilien tulojen ja tulo-osuuksien laskentaa niin että se vastaa
	Tilastokeskuksen tulotilastojen määritelmiä. Ennen desiilien yhteistulot laskettiin
	varsinaisten tulojen perusteella, nyt ne lasketaan kulutusyksikköä kohden laskettujen
	tulojen perusteella.

	Lisätty S80/S20- ja S90/S10-suhdeluvut ja sukupuolittain lasketut köyhyysasteet
	tuotettaviin tulonjakoindikaattoreihin.

	Eurojen ja lukumäärien pyöristys muutettu lähimmästä 10 eurosta lähimpään euroon.

	Tulostettavien indikaattoreiden selitteitä muutettu selkeämmiksi ja yhtenäistetty
	Tilastokeskuksen tulotilastojen käsitteiden kanssa.
	
	Lisäksi yksinkertaistettu ja lyhennetty koodia.

	../SIMUL_2015/KOKOsimul.sas

	Rivi 967: Pidetty sukupuolimuuttuja mukana tulostiedostossa tulonjakoindikaattoreiden
	laskentaa varten.

	Rivi 1003: Lisätty vaihe, jossa mahdollisten tulosmuuttujien tyhjät ja negatiiviset
	arvot asetetaan nolliksi, jotta myös mahdolliset tulottomat henkilöt huomioidaan
	tulonjakoindikaattoreiden laskennassa

39. Korjattu asumistuen starttidatan muodostusta.

Päivittäjä: SL
pv. 6.10.2017

	../SIMUL_2015/ASUMTUKIsimul.sas

	Pidetty starttidatassa muuttuja OPTUKI_DATA, joka oli unohtunut KEEP-lauseesta.
	Jätetty starttidatasta pois muuttujat OSVEROVAP_DATA ja OSVEROVAP_DATA18, jotka
	sisältyvät KUUKTULO-alkuisiin muuttujiin ja joita ei käytetty laskennassa.

38. Poistettu KuuNro-makro ja muutettu lakimakroja käyttämään sen sijaan SAS:n MDY-funktiota.

Päivittäjä: EA, SL
pv. 6.10.2017

	../MAKROT/YLEISET/ParamMakrot.sas

	Poistettu KuuNro-makro.

	../MAKROT/ASUMTUKIlakimakrot.sas
	../MAKROT/KANSELlakimakrot.sas
	../MAKROT/KOTIHTUKIlakimakrot.sas
	../MAKROT/LLISAlakimakrot.sas
	../MAKROT/OPINTUKIlakimakrot.sas
	../MAKROT/SAIRVAKlakimakrot.sas
	../MAKROT/TOIMTUKIlakimakrot.sas
	../MAKROT/TTURVAlakimakrot.sas

	Muutettu lakimakroja niin, että ehdoissa, joissa tarkastellaan kuukausitasolla onko tietty
	lainsäädäntö voimassa, käytetään kuukausimuuttujien muodostamisessa suoraan SAS:n
	MDY-funktiota KuuNro-makron sijaan.

37. Muokattu TOIMTUKI-mallin ToimTukiKS- ja ToimTukiVS-lakimakroja niin, että tulonhank-niminen
	makroparametri on muutettu keyword-makroparametrista tavalliseksi makroparametriksi.

Päivittäjä: EA
pv. 5.10.2017

	../MAKROT/TOIMTUKIlakimakrot.sas

	Rivit 91, 205: Muutettu tulonhank-makroparametri keyword-makroparametrista tavalliseksi
	makroparametriksi.
	
	../SIMUL_2015/TOIMTUKIsimul.sas
	
	Rivi 731: Muutettu makrokutsussa tulonhank-makroparametri keyword-makroparametrista
	tavalliseksi makroparametriksi.

	../ESIM/TOIMTUKIesim.sas

	Rivit 203, 210: Muutettu makrokutsuissa tulonhank-makroparametri keyword-
	makroparametrista tavalliseksi makroparametriksi.

	../ESIM/KOKOesim.sas

	Rivit 1300, 1304: Muutettu makrokutsuissa tulonhank-makroparametri keyword-
	makroparametrista tavalliseksi makroparametriksi. 

36. Muokattu TOIMTUKI-mallin VahimmTuloS-lakimakroa niin, että se toimii myös lainsäädäntövuonna
	2015 ja sen jälkeen.

Päivittäjä: EA
pv. 5.10.2017

	../MAKROT/TOIMTUKIlakimakrot.sas

35. Lisätty veronalaiset apurahat (muuttuja tapur) VERO- ja KOKO-malleissa tuloerään MUU_ANSIO.

Päivittäjä: SL
pv. 5.10.2017

	../SIMUL_2015/VEROsimul.sas
	../SIMUL_2015/KOKOsimul.sas	

34. Siirretty opintorahan huomioiva koodi ASUMTUKI-mallin lakimakroissa makrojen
	As2015AsumistukiVuokraKS, As2015AsumistukiOmaOsakeKS ja As2015AsumistukiOmaTaloKS alta
	makron As2015PerusomavastuuS alle. Samalla opintorahaan liittyvää keyword-makroparametrin
	nimeä on muutettu: opintuki -> opinraha.

Päivittäjä: EA
pv. 5.10.2017

	../MAKROT/ASUMTUKIlakimakrot.sas

	Opintorahan huomiova koodi löytyy nyt riveiltä 778-780.

	Lakimakrojen As2015PerusomavastuuS, As2015AsumistukiVuokraKS, As2015AsumistukiOmaOsakeKS,
	As2015AsumistukiOmaTaloKS, As2015AsumistukiVuokraVS, As2015AsumistukiOmaOsakeVS ja 
	As2015AsumistukiOmaTaloVS keyword-makroparametrin nimi on muutettu: opintuki -> opinraha.

	../SIMUL_2015/ASUMTUKIsimul.sas

	Rivit 503, 507, 511: Muutettu makrokutsuissa keyword-makroparametrin nimi:
	opintuki -> opinraha.

	../ESIM/KOKOesim.sas

	Rivit 1178, 1183, 1199, 1204, 1211, 1216: Muutettu makrokutsuissa keyword-makroparametrin
	nimi: opintuki -> opinraha.

33. Lisätty yleisen asumistuen pyöristyssääntöjä ASUMTUKI-mallin lakimakroihin.
	Pyöristyssäännöistä on kerrottu laissa yleisestä asumistuesta (14.11.2014/938),
	tarkemmin pykälässä 52.

Päivittäjä: EA
pv. 5.10.2017

	../MAKROT/ASUMTUKIlakimakrot.sas

	Pyoristyssäännöt on lisätty makroihin As2015PeruskaavaS, As2015PerusomavastuuS,
	As2015LamponormiS, As2015AsumismenoVuokraAsuntoS, As2015HoitomenoOmaOsakeTodS,
	As2015RahoitusmenoOmaOsakeS, As2015HoitonormiS ja As2015RahoitusmenoOmaTaloS.

	../MAKROT/YLEISET/PyoristysMakrot.sas

	Luotu uusi tiedosto PyoristysMakrot.sas, jossa sijaitsevat uudet makrot 
	PyoristysSentinTarkkuuteen ja PyoristysEuronTarkkuuteen.

	../SIMUL_2015/ALKUsimul.sas

	Rivi 383: Lisätty %INCLUDE-lause, jolla ajetaan PyoristysMakrot.sas-tiedostossa
	olevat makrot talteen.

*************************************************************************************************
**************************   UUSI MALLIVERSIO 17.5 JAETTU 19.9.2017          ********************
*************************************************************************************************

32. Päivitetty parametritaulut ja ajantasaistuksen tiedostot VM:n elokuun 2017 ennusteiden
	mukaisiksi.

Päivittäjä: SL
pv. 19.9.2017

31. Lisätty koodeihin varmistus, jonka avulla malli toimii oikein vaikka TYYPPI-makromuuttujalle
	annettu arvo ei olisikaan kirjoitettu isoilla kirjaimilla.

Päivittäjä: SL
pv. 7.9.2017

	../MAKROT/YLEISET/ParamMakrot.sas
	../MAKROT/ASUMTUKIlakimakrot.sas
	../MAKROT/VEROapumakrot.sas
	../SIMUL_2015/ASUMTUKIsimul.sas
	../SIMUL_2015/KANSELsimul.sas
	../SIMUL_2015/KOKOsimul.sas
	../SIMUL_2015/KOTIHTUKIsimul.sas
	../SIMUL_2015/LLISAsimul.sas
	../SIMUL_2015/OPINTUKIsimul.sas
	../SIMUL_2015/PHOITOsimul.sas
	../SIMUL_2015/SAIRVAKsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas
	../SIMUL_2015/TTURVAsimul.sas

	Kääritty TYYPPI-makromuuttuja %UPCASE-funktioon aina kun sitä käytetään ehtolauseissa.

30. Lisätty KOKOesim-koodiin ehto, jonka mukaan sairaus- tai vanhempainpäivärahaa saavalla
	henkilöllä ei voi olla palkkatuloja.

Päivittäjä: SL
pv. 5.9.2017

	../ESIM/KOKOesim.sas

	Lisätty muuttujien tarkistuksiin ehto, jolla palkka nollataan kun TILANNE = 3, 31, 311
	tai 312. Lisäksi siirretty tarkistukset uuden Tarkista_Muuttujat-makron sisään. Tätä
	makroa kutsutaan myös marginaaliveron laskentavaiheessa, jotta sairaus- tai
	vanhempainpäivärahan saajalle ei tule laskettua virheellistä marginaaliveroa.

29. Siirretty LLISA-mallissa ikään perustuva lapsilisäkuukausien päättely poimintakoodista
	varsinaiseen simulointiin, jotta lapsilisän ikärajaa voidaan muuttaa
	aineistosimuloinnissa.

Päivittäjä: SL
pv. 31.8.2017

	../SIMUL_2015/LLISAsimul.sas

28. Korjattu simuloitujen kotihoidon tukien jakoa kotitalouden sisällä henkilöiden välillä.

Päivittäjä: SL
pv. 30.8.2017

	../SIMUL_2015/KOTIHTUKIsimul.sas

	Korjattu simuloitujen tukien jakoa kotitalouden sisällä henkilöiden välillä siten että
	osuudet lasketaan erikseen kaikille kolmelle etuuslajille (kotihoidon tuki (hoitoraha +
	hoitolisä), osittainen hoitoraha, joustava hoitoraha). Korjaus ei vaikuta
	kotitaloustason tuloksiin vaan vain kotitalouksien sisäiseen tukien jakoon.

27. Poistettu tarpeeton Tarkkuus-makro VERO-mallin apumakroista.

Päivittäjä: SL
pv. 24.8.2017

	../MAKROT/VEROapumakrot.sas

26. Poistettu TeeGlobaalit-makron koodista tarpeettomia globaalien makromuuttujien määrittelyjä.

Päivittäjä: SL
pv. 24.8.2017

	../SIMUL_2015/ALKUsimul.sas

	Poistettu turhia globaalien makromuuttujien määrittelyjä.

	../SIMUL_2015/KOKOsimul.sas

	Poistettu MALLI ja MALLI_KOKO-muuttujien määritykset, joita ei tarvittu koodissa.

	../ESIM/VEROesim.sas

	Muokattu koodia niin, että ainoa makromuuttuja joka tarvitsee määritellä globaaliksi
	on MAKSIMI_VERO_PUOLISO.

	../OHJAUS/kaikki_param.sas7bdat

	Poistettu pysyvistä globaaleista makromuuttujista AIKMAX.

25. Parannettu mallin tulosteita mm. niin, että tunnusluvut tulostetaan oikealle tasattuina.

Päivittäjä: SL
pv. 24.8.2017

	../SIMUL_2015/ALKUsimul.sas
	../MAKROT/KOKOTULOKSETmakro.sas

24. Yksinkertaistettu simulointikoodeja poistamalla mahdollisuus käyttää JUTTA-mallin
	C-funktioita sekä poistamalla turhat ohjausmuuttujat LAKIMAKROT ja APUMAKROT, joilla
	voitiin ohjata ajetaanko makrot vaiko eikö. Makrojen ajossa ei kestä kauaa, joten
	ne voidaan hyvin ajaa joka kerta.

Päivittäjä: SL
pv. 23.8.2017

	../SIMUL_2015/ALKUsimul.sas
	../SIMUL_2015/ASUMTUKIsimul.sas
	../SIMUL_2015/ELASUMTUKIsimul.sas
	../SIMUL_2015/KANSELsimul.sas
	../SIMUL_2015/KIVEROsimul.sas
	../SIMUL_2015/KOKOsimul.sas
	../SIMUL_2015/KOTIHTUKIsimul.sas
	../SIMUL_2015/LLISAsimul.sas
	../SIMUL_2015/OPINTUKIsimul.sas
	../SIMUL_2015/PHOITOsimul.sas
	../SIMUL_2015/SAIRVAKsimul.sas
	../SIMUL_2015/TAMAKSUsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas
	../SIMUL_2015/TTURVAsimul.sas
	../SIMUL_2015/VEROsimul.sas
	../SIMUL_2015/VVEROsimul.sas
	../ESIM/ASUMTUKIesim.sas
	../ESIM/ELASUMTUKIesim.sas
	../ESIM/KANSELesim.sas
	../ESIM/KIVEROesim.sas
	../ESIM/KOKOesim.sas
	../ESIM/KOTIHTUKIesim.sas
	../ESIM/LLISAesim.sas
	../ESIM/OPINTUKIesim.sas
	../ESIM/PHOITOesim.sas
	../ESIM/SAIRVAKesim.sas
	../ESIM/TOIMTUKIesim.sas
	../ESIM/TTURVAesim.sas
	../ESIM/VANHRAHAesim.sas
	../ESIM/VEROesim.sas

	Lisäksi poistettu JUTTA-kansio.

*************************************************************************************************
**************************   UUSI MALLIVERSIO 17.4 JAETTU 14.8.2017          ********************
*************************************************************************************************

23. Poistettu osamallien starttidatojen poiminnoista sellaisia muuttujia, joita ei käytetä
	simuloinnissa.

Päivittäjä: SL
pv. 28.7.2017

	../SIMUL_2015/KANSELsimul.sas
	../SIMUL_2015/LLISAsimul.sas
	../SIMUL_2015/SAIRVAKsimul.sas
	../SIMUL_2015/VEROsimul.sas

22. Yksinkertaistettu ja korjattu opintotukimallin simulointikoodia.

Päivittäjä: SL
pv. 28.7.2017

	../SIMUL_2015/OPINTUKIsimul.sas

	Yksinkertaistettu starttidatan luontia ja korjattu keskiasteen opintorahan laskentaa
	niin, että vanhempien tuloina käytetään muuttujaa VANH_TULO_KESK muuttujan VANH_TULO
	sijaan.

21. Siistitty osamallien starttidatojen poimintakoodeja mm. siirtämällä niistä pois sellaisia
	päättelyitä, jotka saattavat aiheuttaa ongelmia jos mallia ajetaan niin, että
	POIMINTA = 0.

Päivittäjä: SL
pv. 26.7.2017

	../SIMUL_2015/ELASUMTUKIsimul.sas

	Siirretty START_ELASUMTUKI_HENKI-datan sorttaus hnro-muuttujan mukaan poimintakoodista
	OsaMallit_ElAsumTuki-vaiheeseen jotta yhdistelyt onnistuvat silloinkin kun KOKO-mallissa
	on määritelty POIMINTA = 0.

	../SIMUL_2015/TOIMTUKIsimul.sas

	Muutettu OPINTOLAINA_DATA-muuttujan luomista poimintakoodin sisällä niin että käytetään
	aineiston muuttujaa hopila, eikä päätellä potentiaalista lainantakausta
	opintotukikuukausien avulla. Tämä on linjassa OPINTUKI-mallin kanssa.

	../SIMUL_2015/VEROsimul.sas

	Siirretty yrittäjävähennyksen laskenta ja PO_VAHENN-muuttujan laskenta poimintakoodista
	varsinaiseen simulointikoodiin. Poistettu poimintakoodista myös eläketulovähennyksen
	puolisoita koskevan siirtymäkauden tarkistus, jota varten aineistovuoden tuli olla 2008
	tai aiempi.

	../SIMUL_2015/KOTIHTUKIsimul.sas
	../SIMUL_2015/OPINTUKIsimul.sas
	../SIMUL_2015/PHOITOsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas
	../SIMUL_2015/VEROsimul.sas

	Poistettu turhia makromuuttujien määrittelyjä osamallien poimintakoodien alusta.

21. Päivitetty parametritaulut VM:n kesäkuun ennusteen mukaisiksi.

Päivittäjä: SL
pv. 26.6.2017


*************************************************************************************************
**************************   UUSI MALLIVERSIO 17.3 JAETTU 8.6.2017          *********************
*************************************************************************************************

19. Yleisen asumistuen simulointimallissa olleita globaalien makromuuttujien määrittelyjä
	muutettu.

Päivittäjä: EA, SL
pv. 8.6.2017

	../SIMUL_2015/ALKUsimul.sas

	Rivi 269: Makromuuttujan AIKMAX määrittely globaaliksi makromuuttujaksi siirretty
	ALKUsimul-ohjelmaan ASUMTUKI-osamallista.
 
	../SIMUL_2015/ASUMTUKIsimul.sas 

	Rivi 11: Makromuuttujan AIKMAX määrittely globaaliksi makromuuttujaksi siirretty
	ASUMTUKI-osamallista ALKUsimul-ohjelmaan.
	Rivi 312: Poistettu turha käsky %LET AIKMAX = 0;
	Rivit 11 & 328: Makromuuttuja TYOTULOKKAIKMAX poistettu käytöstä kokonaan.
	Rivit 370 & 544: Muutettu makromuuttujakutsut seuraavasti:
	&TYOTULOKKAIKMAX -> TYOTULOKK%EVAL(&AIKMAX)
	 
	../OHJAUS/kaikki_param.sas7bdat

	Lisätty globaali makromuuttuja AIKMAX pysyväksi pysyvat-sarakkeeseen. 

18. Korjattu ja selkeytetty eläkkeensaajan asumistuen simulointia laajasti.

Päivittäjä: EA, SL
pv. 8.6.2017 
	 	
	../SIMUL_2015/ELASUMTUKIsimul.sas

	Täsmennetty ehtoja, milloin kotitalous kuuluu eläkkeensaajan asumistuen piiriin.

	Muutettu simulointia niin, että se tehdään samalla kertaa kaikille kotitalouksille, eikä
	enää erikseen erikseen ns. ydinperhe-eläkeläisille ja muille eläkeläisille.

	Ohjausparametri YDINP (simuloidaanko eläkkeensaajan asumistuki myös ns. ei-ydinperhe-
	eläkeläisille) on poistettu.

	RIVI 725-728: Lisätty sääntö, kuinka korko- ja osinkotulot otetaan huomioon tulona
	eläkkeensaajan asumistuessa.

	../SIMUL_2015/ASUMTUKIsimul.sas
	
	Rivit 231-247: Muutettu tapaa, jolla eläkkeensaajan asumistuen piiriin kuuluvat
	kotitaloudet poistetaan yleisen asumistuen piiristä.
	
	../SIMUL_2015/KOKOsimul.sas

	Ohjausparametri YDINP (simuloidaanko eläkkeensaajan asumistuki myös ns. ei-ydinperhe-
	eläkeläisille) on poistettu.

17. Korjattu yleisen asumistuen ja eläkkeensaajan asumistuen simulointia niin, että ennen
	lainsäädäntövuotta 2015 käytetään muuttujassa yastukir olevaa yleisen asumistuen
	vanhaa kuntaryhmitystä.

Päivittäjä: EA
pv. 7.6.2017 
 
	../SIMUL_2015/ELASUMTUKIsimul.sas
	../SIMUL_2015/ASUMTUKIsimul.sas

16. Vaihdettu VEROsimul-koodiin kunnallisveroprosentin hakukohtiin oikeat aineistovuoden
	mukaiset vuodet.

Päivittäjä: SL
pv. 1.6.2017

	../SIMUL_2015/VEROsimul.sas

	Rivit 291-295 ja 567-572: Vaihdettu kunnallisveroprosentin hakua/korotusta rajaaviksi
	vuosiksi 2015-2017 vuoden 2015 rekisteriaineistoa vastaavaksi.

15. Korjattu osinkojen erillisaineistolla simulointia niin, että ulkomaan osingot otetaan
	huomioon tulosmuuttujissa.

Päivittäjä: SL
pv. 26.5.2017

	../SIMUL_2015/VEROsimul.sas

	Rivit 657-672: Osinkojen erillisaineisto ei sisällä ulkomaan osinkoja, joten
	jaetaan ne OsinkojenJako-makrolla samalla tavalla kuin pelkällä päätaululla
	simuloitaessa ja lisätään erillisaineiston tuottamiin summiin.

14. Poistettu mallista vanhat osamallikohtaiset parametrien hakuun ja kuukausinumeron
	laskentaan liittyvät apumakrot sekä viittaukset niihin.

Päivittäjä: SL
pv. 18.5.2017

	../MAKROT/ASUMTUKIapumakrot.sas
	../MAKROT/ELASUMTUKIapumakrot.sas
	../MAKROT/KANSELapumakrot.sas
	../MAKROT/KIVEROapumakrot.sas
	../MAKROT/KOTIHTUKIapumakrot.sas
	../MAKROT/LLISAapumakrot.sas
	../MAKROT/OPINTUKIapumakrot.sas
	../MAKROT/SAIRVAKapumakrot.sas
	../MAKROT/TOIMTUKIapumakrot.sas
	../MAKROT/TTURVAapumakrot.sas
	../MAKROT/VEROapumakrot.sas


*************************************************************************************************
**************************   UUSI MALLIVERSIO 17.2 JAETTU 2.5.2017          *********************
*************************************************************************************************

13. Päivitetty parametrit vuosille 2018-2021 VM:n maaliskuun ennusteen mukaiseksi. Päivitetty
	ajantasaistusmoduulit maaliskuun ennustekierrosta vastaaviksi.

Päivittäjä: SL
pv. 28.4.2017

12. Korjattu opintotuen esimerkkilaskelmaa siten, että aikuiskoulutustuki lasketaan vain
	silloin kun OPINTUKI_AIKKOUL = 1.

Päivittäjä: MPM
pv. 27.4.2017

	../ESIM/OPINTUKIesim.sas

	Rivi 324: Kerrotaan indikaattorilla OPINTUKI_AIKKOUL.

11. Korvattu yhtenäisyyden vuoksi KANSEL-mallissa tulokäsite ELAKTULO VERO- ja KOKO-mallien
	kanssa yhtenäisellä käsitteellä MUUT_EL, joka kuvaa samaa asiaa.

Päivittäjä: SL
pv. 27.4.2017

	../SIMUL_2015/KANSELsimul.sas

10. Lisätty VERO-mallin muuttujaan MAKSP_VEROT (maksuunpannut verot) Yle-vero jotta sen sisältö
	vastaa datan verot-muuttujaa.

Päivittäjä: SL
pv. 27.4.2017

	../SIMUL_2015/VEROsimul.sas

9. Siistitty mallia poistamalla käyttämättömiä tiedostoja: vuotta 2014 aiemmat SIMUL-kansiot
	ja palveluaineiston ajantasaistuskansio poistettu.

Päivittäjä: SL
pv. 25.4.2017

8. Muutettu kuntaformaatin hakua ja lisätty uusia formaatteja valtioille.

Päivittäjä: SL
pv. 25.4.2017

	../OHJAUS/fkunta.sas7bdat
	../OHJAUS/fvaltio.sas7bdat

	Siirretty kuntaformaatti erilliseen tiedostoon ja luotu uusi tiedosto, jossa
	listataan valtioluokitukselle formaatit valtio, maanosa, maanosab, maanosac.
	Valtioluokitusta käyttävät vuoden 2015 rekisteriaineistossa muuttujat svaltio ja
	taustamaa.

	../OHJAUS/SisuFormaatit.sas

	Kunta- ja valtiotietoihin liittyvät formaatit haetaan nyt edellä mainituista
	tiedostoista.

7. Lisätty TTURVA-malliin ansiopäivärahan ja vuorottelukorvauksen enimmäiskeston muuttumisen
	simulointimahdollisuus.

Päivittäjä: JT, SL
pv. 25.4.2017

	../SIMUL_2015/TTURVAsimul.sas
	../SIMUL_2015/KOKOsimul.sas

	Lisätty mahdollisuus rajata ansiopäivärahan ja vuorottelukorvauksen enimmäiskestoa
	käytettävän lainsäädännön mukaiseksi. Ansiopäivärahan leikatut päivät siirretään
	työmarkkinatukeen. Vuorottelukorvauksen leikattuja päiviä ei siirretä muihin etuuksiin.

	Kestosimulointeja ohjataan simulointikoodeissa makromuuttujilla APKESTOSIMUL
	(ansiopäivärahan kestosimulointi, oletuksena 1 = päällä) ja VKKESTOSIMUL
	(vuorottelukorvauksen kestosimulointi, oletuksena 0 = pois).

	../KAYTLIIT/Arvot.xml
	../KAYTLIIT/AsetuksetSimulointi.dll

	Lisätty käyttöliittymään kestosimulointeja ohjaavia makromuuttujia vastaavat valinnat.

	../MAKROT/TTURVAlakimakrot.sas

	Lisätty uusi lakimakro AnsioSidKestoRaj, jolla etuuksien kestoa rajataan.

	../PARAM/ptturva.sas7bdat
	../OHJAUS/kaikki_param.sas7bdat

	Lisätty 14 uutta parametria AnsioSidKesto - TyoEhtoVko, joita käytetään
	kestosimuloinneissa.

6. Muutettu osittaisen hoitorahan laskentaa.

Päivittäjä: SL
pv. 25.4.2017

	../SIMUL_2015/KOTIHTUKIsimul.sas

	Muutettu hoitorahojen laskentaa niin, että lainsäädäntövuodesta 2014 eteenpäin
	osittaisen hoitorahan laskennassa ei käytetä tuntitietoa. Ennen vuotta 2014
	osittainen hoitoraha lasketaan tuntitiedolla, käyttäen datassa joustavaa hoitorahaa
	saaneille heille pääteltyä työtuntitietoa JSHRTUN ja muille 30 tuntia.

5. Korvattu osuuspääoman korkojen / osuuskuntien ylijäämän vanhat muuttujat (topkb, topkver,
	topkvvap) uusilla, joissa tieto on jaettu ansiotuloksi (toyjmyb, toyjmyv, toyjmyvvap)
	ja pääomatuloksi (toyjmab, toyjmav, toyjmavvap).

Päivittäjä: SL
pv. 25.4.2017

	../SIMUL_2015/VEROsimul.sas
	../SIMUL_2015/KOKOsimul.sas
	../SIMUL_2015/ASUMTUKIsimul.sas
	../SIMUL_2015/ELASUMTUKIsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas

4. Poistettu TTURVA_DATA-tulokäsitteistä aineistosta poistunut muuttuja mtlisa
	(Muutosturvalisä).

Päivittäjä: SL
pv. 25.4.2017

	../SIMUL_2015/VEROsimul.sas
	../SIMUL_2015/KOKOsimul.sas
	../SIMUL_2015/TOIMTUKIsimul.sas

3. Tarkennettu kotihoidontuen esimerkkilaskelmassa alle kolmevuotiaden sisarten määrityksen 
	kuvausta.

Päivittäjä: SSH
pv. 18.4.2017

	../ESIM/KOTIHTUKIesim.sas

2. Korjattu toimeentulotuen esimerkkilaskennan virheellinen array työtulojen ja tulonhankkimis-
	kulujen osalta.

Päivittäjä: SSH, SL
pv. 13.4.2017

	../ESIM/TOIMTUKIesim.sas


1. Päivitetty käyttöliittymämoduuleita niin, että ne toimivat mistä tahansa kansiosta
	(ei vain C:\SISU). Lisäksi korjattu simulointimallit-moduulia niin että
	välillisen verotuksen malli toimii jälleen ja lisätty opintotuen esimerkkilaskelmien
	pohjiin aikuiskoulutustuen laskennan uudet tulomuuttujat.

Päivittäjä: SL
pv. 31.3.2017

	../KAYTLIIT/Arvot.xml
	../KAYTLIIT/AsetuksetSimulointi.dll
	../KAYTLIIT/AsetuksetTaulukointi.dll
	../KAYTLIIT/Esimerkkilaskelmat.dll
	../KAYTLIIT/Parametrit.dll
	../KAYTLIIT/Simulointimallit.dll
	../KAYTLIIT/EXCEL/opintuki_esim_pohjat.xlsx
	../KAYTLIIT/EXCEL/Osamallit.xlsx
	../KAYTLIIT/EXCEL/Parametrilohkot.xlsx